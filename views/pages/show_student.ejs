<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../include/header',{title:"Show Student"})%>
</head>
<body>
<section>
    <%- include('../include/navbar')%>
</section>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-2"></div>
        <div class="col-sm-8">
            <% if (messages.success) { %>
                <% messages.success.forEach(function(message) { %>
                    <div class="alert alert-success"><%= message %></div>
                <% }); %>
            <% } %>
            <h2 class="text-center">Show Student</h2>
            <table class="table table-bordered">
                <thead>
                    <tr class="text-center">
                        <th>Roll Number</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Phone Number</th>
                        <th>Student Picture</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                    <%if(student){%>
                        <% student.map((items)=>{%>
                            <tr class="text-center">
                                <td><%= items.roll_number %></td>
                                <td><%= items.first_name %></td>
                                <td><%= items.last_name %></td>
                                <td><%= items.email  %></td>
                                <td><%= items.phone_number  %></td>
                                <td><img src="/uploads/<%= items.student_pic %>" alt="images"height="100px" width="100px"/></td>
                                <td><a href="/edit_student/<%= items.roll_number %>" class="btn btn-success btn-sm">Edit</a></td>
                                <td><a href="/delete_student/<%= items.roll_number  %>" class="btn btn-danger btn-sm">Delete</a></td>
                            </tr>
                        <%})%>
                    <%}else{%>
                    <%}%>
                </tbody>
            </table>
            <ul class="pagination pagination-sm justify-content-center">
                <% if (currentPage > 1) { %>
                    <li class="page-item"><a class="page-link" href="/show_student/?page=<%= currentPage - 1 %>">Previous</a></li>
                <% } %>
                <% for (let i = 1; i <= totalPages; i++) { %>
                    <li class="page-item"><a class="page-link" href="/show_student/?page=<%= i %>" <%= currentPage === i  %>><%= i %></a></li>
                <% } %>
                <% if (currentPage < totalPages) { %>
                    <li class="page-item"><a class="page-link" href="/show_student/?page=<%= currentPage + 1 %>">Next</a></li>
                <% } %>
            </ul>
        </div>
        <div class="col-sm-2"></div>
    </div>
</div>
</body>
</html>